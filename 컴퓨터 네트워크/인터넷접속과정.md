# 인터넷 접속 과정

www.google.com에 접속했을 때 네트워크 상에서 이루어지는 과정은 다음과 같다.

---

### 1. **DNS 조회 (Domain Name System)**  
   - 사용자가 브라우저 주소창에 `www.google.com`을 입력하면, 먼저 이 도메인 이름을 IP 주소로 변환해야 한다.  
   - 브라우저는 먼저 로컬 DNS 캐시를 확인한다.  
     - 로컬 캐시에 없으면 **DNS 서버**로 쿼리를 보낸다.  
     - ISP(인터넷 서비스 제공자)의 DNS 서버에서 확인 후, 최종적으로 `www.google.com`에 해당하는 IP 주소(예: `142.250.190.46`)를 반환한다.

---

### 2. **TCP 연결 (Three-Way Handshake)**  
   - 클라이언트(사용자 컴퓨터)와 구글 서버 간의 통신을 위해 **TCP 연결**을 설정한다.  
     - 클라이언트가 **SYN** 패킷을 서버로 보낸다.  
     - 서버는 **SYN-ACK** 패킷으로 응답한다.  
     - 클라이언트는 **ACK** 패킷을 보내며 연결이 성립된다.  
   - 이 과정은 **3-way handshake**라고 하며, 안정적인 데이터 전송을 보장하기 위한 단계이다.

---

### 3. **HTTP(S) 요청 (HyperText Transfer Protocol)**  
   - TCP 연결이 성립된 후, 클라이언트는 구글 서버로 **HTTP/HTTPS 요청**을 보낸다.  
     - HTTPS 요청의 경우, 먼저 **TLS 핸드셰이크**가 이루어진다.  
     - TLS 핸드셰이크 과정에서 클라이언트와 서버는 대칭키를 생성하고, 암호화된 데이터를 주고받을 수 있는 환경을 설정한다.  
   - 이후, 브라우저는 `GET / HTTP/1.1`와 같은 요청을 전송하여, 구글의 메인 페이지 데이터를 요청한다.

---

### 4. **구글 서버 처리**  
   - 구글의 로드 밸런서는 요청을 수신하고, 가장 적합한 서버로 요청을 라우팅한다.  
     - 이 과정에서 사용자의 지리적 위치, 서버 부하 등을 고려하여 최적의 서버를 선택한다.  
   - 선택된 서버는 요청을 처리하고, HTML, CSS, JS, 이미지 등 필요한 리소스를 포함한 응답 데이터를 클라이언트로 전송한다.

---

### 5. **데이터 전송**  
   - 서버에서 클라이언트로 전송되는 데이터는 IP 패킷으로 분리되어 전송된다.  
     - 이 과정에서 **TCP 프로토콜**은 데이터의 순서와 무결성을 보장한다.  
     - 각 패킷은 최적의 경로를 따라 전달되며, 중간에 라우터, 스위치 등의 네트워크 장비를 거친다.

---

### 6. **브라우저 렌더링**  
   - 클라이언트가 HTML, CSS, JS 등의 데이터를 수신하면, 브라우저는 이를 렌더링하여 사용자가 볼 수 있는 웹 페이지를 출력한다.  
     - HTML 파싱 → DOM 생성  
     - CSS 파싱 → CSSOM 생성  
     - JS 실행 → 인터렉티브 기능 활성화  
     - 위 과정이 합쳐져 사용자가 구글 메인 페이지를 볼 수 있게 된다.

---

### 요약  
`www.google.com`에 접속하는 과정은 크게 **DNS 조회**, **TCP 연결**, **HTTP/HTTPS 요청**, **서버 응답 처리**, 그리고 **브라우저 렌더링**의 단계로 이루어진다. 각 단계는 IP, TCP, HTTP(S), DNS와 같은 다양한 네트워크 프로토콜이 협력하여 이루어지며, 사용자는 이 복잡한 과정을 빠르게 경험하게 된다.

