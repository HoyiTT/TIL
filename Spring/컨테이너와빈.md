# 스프링 컨테이너

스프링 컨테이너는  스프링 애플리케이션의 핵심으로, 객체(bean)의 생성, 관리, 소멸 주기를 책임지는 IOC 컨테이너이다.

이를 통해 객체 간의 의존성을 개발자가 직접 관리할 필요 없이 컨테이너가 대신 관리해준다.

## 역할

- 객체(스프링 빈)의 생성과 관리
- 객체 간의 의존성 주입
- 스프링 애플리케이션의 라이프사이클 관리

## 스프링 컨테이너 생성 방식

스프링 컨테이너는 설정 파일이나 클래스를 기반으로 생성됩니다.

- XML 기반 설정: ClassPathXmlApplicationContext
- 자바 기반 설정: AnnotationConfigApplicationContext
- Spring Boot: SpringApplication.run() 메서드를 통해 자동으로 설정

```java
    ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```

# 스프링 빈

스프링 빈은 스프링 컨테이너에 의해 관리되는 객체를 의미한다.

개발자가 정의한 클래스 중 특정 어노테이션을 통해 스프링 컨테이너가 자동으로 객체를 생성하고 관리한다.

## 특징
- 컨테이너가 관리
    Bean 객체의 생성, 초기화, 소멸은 컨테이너가 제어합니다.

- 싱글톤 기본
    기본적으로 스프링 빈은 컨테이너 내에서 싱글톤(하나의 인스턴스)으로 관리됩니다.

    스코프를 변경하면 prototype, request, session 등으로 관리할 수 있습니다.

- 필요한 경우만 생성
    @Lazy 어노테이션을 통해 지연 초기화를 설정할 수 있습니다.

## 빈 등록방법

- 어노테이션 기반 등록

클래스에 @Component 또는 그 하위 어노테이션(@Service, @Repository, @Controller)을 추가하면 자동으로 스프링 빈으로 등록됩니다.
@Configuration 클래스에서 @Bean 메서드로 등록할 수도 있습니다.

```java

@Component
public class MyBean {
    // 빈으로 관리되는 클래스
}
```

- XML 설정 파일 등록

```xml
<bean id="myBean" class="com.example.MyBean"/>
```

## 생성된 스프링 빈 사용

스프링 빈은 주로 @Autowired, @Inject 또는 ApplicationContext를 통해 주입받아 사용합니다.

```java

@Component
public class MyService {
    @Autowired
    private MyBean myBean;

    public void doSomething() {
        myBean.performTask();
    }
}
```


# 스프링 컨테이너와 스프링 빈의 관계
스프링 컨테이너는 스프링 애플리케이션의 "관리자"이다

컨테이너는 애플리케이션 시작 시 설정을 기반으로 스프링 빈을 생성하고 등록한다.

의존성 주입과 빈 생명주기를 관리하며, 애플리케이션이 종료될 때 빈을 소멸시킨다.

스프링 빈은 스프링 컨테이너에 의해 관리되는 객체이다.

개발자는 객체의 생성과 초기화를 직접 수행하지 않고, 컨테이너가 관리하는 객체를 사용한다.

# 스프링 컨테이너의 동작 과정
스프링 컨테이너 초기화:

설정 파일(XML/Java)을 읽어 컨테이너를 초기화합니다.

스프링 빈 등록:

설정에 따라 빈을 생성하고 컨테이너에 등록합니다.

의존성 주입:

빈 간의 의존성을 분석하여 주입합니다.

빈 사용:

애플리케이션에서 필요한 빈을 컨테이너로부터 가져와 사용합니다.

빈 소멸:

애플리케이션 종료 시 컨테이너가 빈을 소멸시키며 필요한 정리 작업을 수행합니다.

# 주요 어노테이션 정리

## 빈 등록 관련 어노테이션

@Component: 일반 빈 등록

@Service: 서비스 계층 등록

@Repository: 데이터 접근 계층 등록

@Controller: 웹 컨트롤러 등록

@Configuration: 설정 클래스 등록

@Bean: 메서드를 통해 빈 등록

## 의존성 주입 관련 어노테이션

@Autowired: 자동 의존성 주입

@Qualifier: 주입할 빈 명시

@Inject: 표준 의존성 주입

