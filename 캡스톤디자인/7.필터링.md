# 7. 필터링

## 7.1. 필터링이란?
영상 처리에서 필터링이란 영상에서 원하는 정보만 통과시키고(남기고) 원치 않는 정보는 걸러 내는 작업임

영상의 필터링은 보통 마스크(mask)라고 부르는 작은 크기의 행렬을 이용함

마스크는 필터링의 성격을 정의하는 행렬이며 커널, 윈도우 라고도 부르며 마스크 자체를 필터라고 부르기도 함

현재 필터링 작업을 수행하고 있는 기준 픽셀 위치를 마스크의 고정점이라 하며, 대부분의 경우 마스크 행령 정중앙을 고정점으로 사용함

마스크 연산이란 마스크 행렬의 모든 원소에 대하여 마스크 행렬 원소 값과 같은 위치에 있는 입력 영상 픽셀 값을 서로 곱한 후, 그 결과를 모두 더하는 연산임


## 블러링

블러링은 초점이 맞지 않는 사진처럼 영상을 흐릿하게 만드는 필터링 기법이며 스무딩이라고도 함

### 평균값 필터링

평균값 필터링은 입력 영상에서 특정 픽셀과 주변 픽셀들의 산술 평균을 결과 영상 픽셀 값으로 설정하는 필터링 기법임

### 가우시안 필터링

가우시안 분포는 평균을 중심으로 좌우 대칭의 종 모양을 갖는 확률 분포를 말하며 정규 분포라고도 함

가우시안 분포 함수는 연속 함수이지만 이산형의 마스크를 만들기 위해서 x와 y 값이 정수인 위치에서만 가우시안 분포 함수 값을 추출하여 마스크를 생성함

2차원 가우시안 분포 함수는 1차원 가우시안 분포 함수의 곱으로 분리할 수 있으면, 이러한 특성을 이용하면 가우시안 필터 연산량을 크게 줄일 수 있음

## 사프닝

샤프닝이란 영상을 날카로운 느낌이 나도록 변경하는 필터링 기법임

샤프닝 기법 중 대표적인 것으로, 언샤프한(흐릿한) 영상을 이용하여 역으로 날카로운 영상을 생성하는 언샤프 마스크 필터링 기법이 있음


## 잡음 제거 필터링

신호 처리 관점에서 잡음 이란 원본 신호에 추가된 원치 않은 신호를 의미함

### 잡음 제거 필터링 - 양방향 필터
양방향 필터(bilateral filter)는 에지 정보는 그대로 유지하면 서 잡음만 제거하는 에지 보전 잡음 제거 필터링 기법의 한 종류

양방향 필터(bilateral filter)는 픽셀 값을 고려한 가우시안 필터와, 픽셀간 거리는 고려한 가우시안 필터의 곱으로 구현 됨


bilateral filter() 함수에서 sigmaSpace 값은 일반적인 가우시안 필터링에서 사용하는 표준 편차와 같은 개녕

sigmaColor 값을 이용하여 어느 정도 밝기 차를 갖는 에지를 보존할 것인지를 조정 가능


### 잡음 제거 필터링 - 미디언 필터

미디언 필터는 입력 영상에서 자기 자신과 주변 픽셀 값 중에서 중간값을 선택하여 결과 영상 픽셀 값으로 설정하는 필터링 기법임

