# 자바 기본 메모리 구조

## 1. 메모리 구조

자바 프로그램이 실행되면 JVM은 다음과 같은 메모리 구조를 가진다.

### 1.1. 메소드 영역(Method Area)

- JVM이 시작할 때 생성되며 모든 스레드가 공유하는 영역

- 클래스 멤버 변수(static 변수)와 클래스 메소드(static 메소드)가 저장되는 영역

- 클래스 로더로부터 읽어들인 클래스 파일의 내용을 저장

- 메소드 영역은 JVM이 시작할 때 설정한 힙 크기보다 작을 수 있다.

### 1.2. 힙 영역(Heap Area)

- new 키워드로 생성된 객체와 배열이 저장되는 영역

- 힙 영역에 생성된 객체와 배열은 JVM 스택 영역의 변수나 다른 객체의 필드에서 참조

- 힙 영역은 JVM이 시작할 때 설정한 힙 크기보다 작을 수 있다.

- 가비지 컬렉터에 의해 관리되는 영역

### 1.3. JVM 스택 영역(JVM Stack Area)

- 각 스레드마다 하나씩 존재

- 메소드 호출 시 마다 프레임(Frame)을 추가(push)하고 메소드가 종료되면 해당 프레임을 제거(pop)

- 메소드 호출 시 마다 프레임에는 메소드의 지역 변수, 파라미터, 리턴 값 및 연산 중 발생하는 임시 데이터를 저장

- JVM 스택 영역은 JVM이 시작할 때 설정한 스택 크기보다 작을 수 있다.


- local variable, operand stack, frame data으로 구성되어 있음

#### 1.3.1. 로컬 변수(Local Variable)

- 메소드의 매개변수와 메소드 내에서 선언된 변수

- 로컬 변수는 스택 프레임 내에 저장

#### 1.3.2. 연산 스택(Operand Stack)

- 연산을 위한 임시 공간

- 연산 스택은 스택 프레임 내에 저장

#### 1.3.3. 프레임 데이터(Frame Data)

- 메소드의 리턴 값, 메소드 호출 시 다음 명령어의 주소 등을 저장

- 프레임 데이터는 스택 프레임 내에 저장

### 1.4. PC(Program Counter) 레지스터

