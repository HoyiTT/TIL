# 동기화

동시다발적으로 실행되는 프로세스들이 공유 자원에 접근할 때 발생하는 문제를 해결하기 위한 방법

### 운영체제가 제공하는 동기화의 의미
1. 실행 순서 제어 : 프로세스를 올바른 순서로 실행하기
2. 상호 배제(mutual exclusion) : 동시에 접근해선 안되는 자원에 하나만 접근하기

공동 자원에 대한 접근을 제어하기 위해 동기화가 필요하다.(기다려야한다)

## 공유 자원과 임계구역
- 공유 자원 : 여러 프로세스가 공유하는 자원(파일, 전역변수, 입출력 장치..)
- 임계구역 : 동시에 접근하면 문제가 발생할 수 있는 공유 자원에 접근하는 코드

### 임계구역 문제
- race condition : 임계구역에 대한 동시 접근이 발생할 때 발생하는 문제

### 생산자와 소비자 문제
- 생산자 : 버퍼에 데이터를 넣는 작업
- 소비자 : 버퍼에서 데이터를 빼는 작업

## 뮤텍스와 세미포어

### 동기화 해결의 3원칙
1. 상호 배제 : 한 프로세스가 임계 구역에 진입했다면 다른 프로세스는 대기해야함
2. 진행 : 어떤 프로세스도 임계 구역에 진입하지 않았다면 진입이 가능해야함
3. 유한 대기 : 한 프로세스가 임계 구역 진입을 위해 대기하고 있다면 언젠간 진입이 가능해야 함

### 상호 배제를 위한 동기화 도구
1. 뮤텍스 락
2. 세마포어

## 교착 상태
- 둘 이상의 프로세스가 서로 상대방의 작업이 끝나기만을 기다리며 무한정 대기하는 상태

### 교착 상태 발생 조건
1. 상호 배제 : 한 프로세스가 자원을 점유하고 있는 상태에서 다른 프로세스가 그 자원을 요청
2. 점유 대기 : 한 프로세스가 자원을 점유한 상태에서 다른 자원을 요청하며 대기하는 상태
3. 비선점 : 한 프로세스가 자원을 강제로 뺏을 수 없는 상태
4. 원형 대기 : 프로세스 간의 자원 요청이 사이클을 형성하는 상태

### 교착 상태 처리
1. 예방 : 교착 상태 발생 4가지 조건 중 하나를 제거 -> 또다른 문제가 발생
2. 회피 : 교착 상태가 발생하지 않도록 프로세스의 자원 요청을 조절
3. 탐지 및 복구 : 교착 상태가 발생하면 탐지하고 복구
